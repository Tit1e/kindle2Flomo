(function(e){function t(t){for(var o,a,i=t[0],l=t[1],u=t[2],d=0,b=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&b.push(c[a][0]),c[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);s&&s(t);while(b.length)b.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==c[l]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},c={app:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;r.push([1,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t,n){e.exports=n("cd49")},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},"1a12":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="1a12"},"1c26":function(e,t,n){var o={"./build":"f885","./build.js":"f885","./clean":"f83a","./clean.js":"f83a","./configure":"8f0e","./configure.js":"8f0e","./info":"53b3","./info.js":"53b3","./install":"3b09","./install.js":"3b09","./node-pre-gyp":"95bb","./node-pre-gyp.js":"95bb","./package":"42e9","./package.js":"42e9","./pre-binding":"c2bf","./pre-binding.js":"c2bf","./publish":"96ac","./publish.js":"96ac","./rebuild":"efb3","./rebuild.js":"efb3","./reinstall":"39b2","./reinstall.js":"39b2","./reveal":"4997","./reveal.js":"4997","./testbinary":"5c9e","./testbinary.js":"5c9e","./testpackage":"4791","./testpackage.js":"4791","./unpublish":"012f","./unpublish.js":"012f","./util/abi_crosswalk":"63e9","./util/abi_crosswalk.json":"63e9","./util/compile":"99ca","./util/compile.js":"99ca","./util/handle_gyp_opts":"b608","./util/handle_gyp_opts.js":"b608","./util/napi":"3d34","./util/napi.js":"3d34","./util/nw-pre-gyp/index.html":"a716","./util/nw-pre-gyp/package":"4ca4","./util/nw-pre-gyp/package.json":"4ca4","./util/s3_setup":"606e","./util/s3_setup.js":"606e","./util/versioning":"f3dc","./util/versioning.js":"f3dc"};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}c.keys=function(){return Object.keys(o)},c.resolve=r,e.exports=c,c.id="1c26"},"1c5d":function(e,t,n){"use strict";n("5bfd")},2:function(e,t){},"254e":function(e,t,n){"use strict";n("ff2a")},"2b42":function(e,t,n){"use strict";n("7e35")},"2d87":function(e,t,n){"use strict";n("c65b")},3:function(e,t){},4:function(e,t){},"4a26":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="4a26"},5:function(e,t){},"551b":function(e,t,n){},5893:function(e,t,n){var o={"./en-US.ts":"f197","./zh-CN.ts":"a8b7"};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}c.keys=function(){return Object.keys(o)},c.resolve=r,e.exports=c,c.id="5893"},5961:function(e,t,n){"use strict";n("c786")},"5b9d":function(e,t,n){var o={"./Find-VS2017.cs":"c3f6","./build":"c22b","./build.js":"c22b","./clean":"1910","./clean.js":"1910","./configure":"c0a3","./configure.js":"c0a3","./find-node-directory":"3265","./find-node-directory.js":"3265","./find-vs2017":"d3f3","./find-vs2017.js":"d3f3","./install":"1eed","./install.js":"1eed","./list":"7777","./list.js":"7777","./node-gyp":"a9a0","./node-gyp.js":"a9a0","./process-release":"4e82","./process-release.js":"4e82","./rebuild":"626c","./rebuild.js":"626c","./remove":"bcf9","./remove.js":"bcf9"};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}c.keys=function(){return Object.keys(o)},c.resolve=r,e.exports=c,c.id="5b9d"},"5bfd":function(e,t,n){},6:function(e,t){},"623a":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="623a"},7:function(e,t){},"7e35":function(e,t,n){},8:function(e,t){},9:function(e,t){},9536:function(e,t,n){},a8b7:function(e,t,n){"use strict";n.r(t),t["default"]={parse:"解析","how-export":"如何导出 HTML？","where-is--my-clippings":"My Clippings.txt 在哪？",weread:"微信读书","parse-options":"解析设置","hide-tag":"隐藏 Tag","position-of-tag":"位置",top:"顶部",bottom:"底部","book-name":"书名","book-list":"书籍列表",import:"导入","api-options":"Api 设置","tag-options":"Tag 设置","notes-options":"笔记设置","reading-notes":"正在读取","upload-file":"上传 HTML/TXT 文件",thanks:"感谢 lupeng",all:"全选","check-update":"检查更新",blog:"博客",jike:"即刻",help:"帮助"}},b66d:function(e,t,n){"use strict";n("551b")},c65b:function(e,t,n){},c786:function(e,t,n){},c7b3:function(e,t,n){n("a15b");var o=n("fc0d").verbose(),c=n("df7c"),r=function(e,t){return new o.Database(c.join(e,t))};e.exports={db:r}},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),c=(n("99af"),n("47e2")),r={class:"the-head"},a=Object(o["defineComponent"])({setup:function(e){var t=Object(c["b"])();t.t,t.locale,Object(o["ref"])(!1);return function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r)}}}),i=(n("254e"),n("6b0d")),l=n.n(i);const u=l()(a,[["__scopeId","data-v-449b818b"]]);var s=u,d=n("2909"),b=n("3835"),f=n("5530"),p=(n("7db0"),n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("1276"),n("b0c0"),n("5319"),n("498a"),n("a630"),n("a15b"),n("d81d"),n("4de4"),n("53ca"));n("159b"),n("c740");function O(e){var t=Object(p["a"])(e);return"function"===t||"object"===t&&!!e}function j(e){if(!O(e))return e;for(var t,n,o=1,c=arguments.length;o<c;o++)for(n in t=arguments[o],t)e[n]=t[n];return e}function m(e){return-1!==e.indexOf("标注")||-1!==e.indexOf("Highlight")?1:(-1!==e.indexOf("笔记")||-1!==e.indexOf("备注")||-1!==e.indexOf("书签")||e.indexOf("Bookmark"),2)}var h={split_created:function(e){e=e.split("|").map((function(e){return e.trim()}));try{var t=e[0].substr(2),n=t.replace(/[^0-9]/gi,""),o=m(t);return{type:o,position:1===o?t:n,note:""}}catch(c){return{note:"",position:"",date:""}}},split_book:function(e){e=e.replace(/（/g,"(").replace(/）/g,")");try{var t=/(.+)\((.+)\)/,n=t.exec(e);return n?{book:n[1].trim(),author:n[2].trim()}:{book:e,author:""}}catch(o){console.log(o)}}};function v(e){this.position="",this.book="",this.author="",this.date=null,this.content="",this.texts=e,this.type="",this.init()}function g(e){e=e.split("==========").filter((function(e){return e}));var t=[],n=[];e.map(x).forEach((function(e){e&&(1===e.type&&e.content&&n.push(e),2===e.type&&e.content&&t.push(e))})),t.forEach((function(e){var t=n.findIndex((function(t){return-1!==t.position.indexOf(e.position)}));-1!==t&&(n[t].note=e.content)}));var o=[];return n.forEach((function(e){var t=o.findIndex((function(t){return t.title===e.book}));-1!==t?o[t].texts.push({text:e.content,note:e.note,checked:!1,isEdit:!1}):o.push({title:e.book,texts:[{text:e.content,note:e.note,checked:!1,isEdit:!1}]})})),o.reverse()}function x(e){return e=e.trim(),e?new v(e):null}v.prototype.init=function(){var e=this.texts.replace(/^(\n|\r)*/g,"").replace(/(\n|\r)*$/g,"").split("\r\n").filter((function(e){return e&&"\n"!==e&&"\r"!==e})),t=null;t=h.split_book(e[0]),j(this,t),e[1]&&(t=h.split_created(e[1]),j(this,t)),this.content=e[2],t=null};var N=g,k=n("1431");function E(e){console.log(e);var t=e.replace(/\n|\r/g,""),n=k.load(t);n("h3.noteHeading").length&&(t=t.replace(/<\/h3>/g,"</div>").replace(/<\/div><div class='noteText'>/g,"</h3><div class='noteText'>"),n=k.load(t));var o=n(".bookTitle")[0],c=n(o).text().trim(),r=[],a=Array.from(n(".noteText")),i=[];while(a.length){var l=a.pop(),u=m(l.prev.children[0].data),s=l.children.filter((function(e){return"text"===e.type})).map((function(e){return e.data.trim()})).join("");2===u&&i.push(s),1===u&&r.unshift({text:s,note:i.pop()||"",checked:!1,isEdit:!1})}return{title:c,texts:r}}var V=E,w=n("1da1"),T=(n("96cf"),n("fb6a"),{}),y={},C={},_=function(){},S=function(){return Promise.resolve([])};Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON&&(T=n("3e8f"),y=n("3c43"),C=n("7781"),_=n("c7b3").db,S=function(){var e=y.homedir(),t="/Library/Containers/com.apple.iBooksX/Data/Documents/AEAnnotation/",n="";try{n=T.readdirSync("".concat(e).concat(t))}catch(r){return Promise.reject("未发现笔记文件")}var o=n.find((function(e){return"sqlite"===e.slice(-6).toLowerCase()}));if(!o)return Promise.reject("未发现笔记文件");var c=_("".concat(e).concat(t),o);return new Promise((function(t,n){c.all("\n          SELECT\n              ZANNOTATIONREPRESENTATIVETEXT as BroaderText,\n              ZANNOTATIONSELECTEDTEXT as SelectedText,\n              ZANNOTATIONNOTE as Note,\n              ZFUTUREPROOFING5 as Chapter,\n              ZANNOTATIONCREATIONDATE as Created,\n              ZANNOTATIONMODIFICATIONDATE as Modified,\n              ZANNOTATIONASSETID\n          FROM ZAEANNOTATION\n          WHERE ZANNOTATIONSELECTEDTEXT IS NOT NULL\n          ORDER BY ZANNOTATIONASSETID ASC\n        ",function(){var o=Object(w["a"])(regeneratorRuntime.mark((function o(c,a){var i,l,u,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(c){o.next=20;break}return i="".concat(e,"/Library/Containers/com.apple.BKAgentService/Data/Documents/iBooks/Books/Books.plist"),l={},u=[],o.prev=4,o.next=7,C.parseFile(i);case 7:s=o.sent,l=s[0],u=l.Books,o.next=16;break;case 12:o.prev=12,o.t0=o["catch"](4),console.log(o.t0),n("图书列表解析出错");case 16:try{a.forEach((function(e){var t=u.findIndex((function(t){return t.BKGeneratedItemId===e.ZANNOTATIONASSETID}));if(t>=0){var n={text:e.SelectedText,note:e.Note,checked:!1,isEdit:!1};try{u[t].texts.push(n)}catch(r){u[t].texts=[],u[t].texts.push(n)}}}))}catch(r){console.log(r)}t(u.filter((function(e){return e.texts})).map((function(e){return{title:e.BKDisplayName,texts:e.texts}}))),o.next=21;break;case 20:n("笔记解析出错");case 21:case"end":return o.stop()}}),o,null,[[4,12]])})));return function(e,t){return o.apply(this,arguments)}}())}))});var D=S,L=n("4995"),B=n("5a79"),I=n("bc3a"),A=n.n(I);function U(){return new Promise((function(e,t){try{var o=n("daba"),c=o.session;c.defaultSession.cookies.get({url:"https://weread.qq.com/"}).then((function(n){if(n&&n.length){var o=n.find((function(e){return"wr_vid"===e.name}));o&&e(o.value),t(!1)}t(!1)}))}catch(r){console.log(r),t(!1)}}))}A.a.defaults.baseURL="https://i.weread.qq.com";var M={Host:"i.weread.qq.com",Connection:"keep-alive","Upgrade-Insecure-Requests":1,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3","Accept-Encoding":"gzip, deflate, br","Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8"};A.a.interceptors.request.use((function(e){return Object(f["a"])({},e)}),(function(e){return Promise.reject(e)})),A.a.interceptors.response.use((function(e){return e.data}),(function(e){var t=e.response;if(t)return console.log(t.statusText,t.data&&t.data.errmsg),Promise.reject(t.data);console.log("something wrong")}));var P=function(e){return A()({method:"get",url:"/book/bookmarklist",headers:M,params:{bookId:e}})},R=function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U().catch((function(e){console.log(e)}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",Promise.reject(401));case 5:return e.abrupt("return",A()({method:"get",headers:M,url:"/user/notebooks"}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U().catch((function(e){}));case 2:return n=e.sent,e.abrupt("return",A()({method:"get",url:"/web/review/list",baseURL:"https://weread.qq.com",headers:M,params:Object(f["a"])({userVid:n},t)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function q(){var e=n("daba"),t=e.session;return new Promise((function(e,n){t.defaultSession.cookies.get({url:"https://weread.qq.com/"}).then((function(o){try{for(var c=0;c<o.length;c++)t.defaultSession.cookies.remove("https://weread.qq.com/",o[c].name,(function(e){console.log("cookie 清除出错")}));e()}catch(r){n()}})).catch((function(){return n()}))}))}function z(){return new Promise((function(e,t){R().then((function(t){var n=t.books.map((function(e){return{title:e.book.title,loaded:!1,bookId:e.bookId,texts:[]}})).reverse();e(n)})).catch((function(e){401===e&&q(),t(e)}))}))}function H(e){return new Promise((function(t,n){P(e).then((function(e){var n=e.updated.map((function(e){return{text:e.markText,note:"",checked:!1,isEdit:!1}}));t(n)})).catch((function(e){n(e)}))}))}function Z(e){return new Promise((function(t,n){F(e).then((function(e){var n=e.reviews.map((function(e){return{text:e.review.abstract,note:e.review.content||"",checked:!1,isEdit:!1}}));t(n)})).catch((function(e){n(e)}))}))}var J=n("5502"),X=function(e){return Object(o["pushScopeId"])("data-v-fe93a012"),e=e(),Object(o["popScopeId"])(),e},W={class:"left-bar-form"},K={class:"left-bar-form-content"},G={class:"left-bar-form-content-top"},Y={class:"upload-content radius flex pd-10 border"},$=X((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-folder-add"},null,-1)})),Q={class:"el-upload__text"},ee={class:"how"},te=X((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-question"},null,-1)})),ne={class:"mr-10",href:"https://mp.weixin.qq.com/s/CPIYoGItJVWJGk30MoVNXA",target:"_blank"},oe=X((function(){return Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",{class:"pb-10"}," 将 Kindle 通过数据线连接至电脑 "),Object(o["createElementVNode"])("div",null," 文件位于：Kindle根目录 - document - My Clippings.txt ")],-1)})),ce={class:"pointer"},re={class:"flex thired-import"},ae={class:"pointer text-center border pd-10 radius"},ie=X((function(){return Object(o["createElementVNode"])("div",{slot:"content",style:{"line-height":"1.5em"}},[Object(o["createTextVNode"])(" 由于 Apple Books 与微信读书笔记的笔记读取方式限制，只能通过安装应用读取。 "),Object(o["createElementVNode"])("br"),Object(o["createTextVNode"])(" 或者去 "),Object(o["createElementVNode"])("a",{style:{color:"#d96767"},href:"https://github.com/Tit1e/kindle2Flomo/releases",target:"_blank"},"蓝奏云"),Object(o["createTextVNode"])(" 下载 "),Object(o["createElementVNode"])("br"),Object(o["createElementVNode"])("span",{style:{color:"#d96767"}},"注意下载版本号最新的安装包"),Object(o["createElementVNode"])("br"),Object(o["createTextVNode"])(" 文件访问密码：47if ")],-1)})),le=X((function(){return Object(o["createElementVNode"])("a",{href:"https://github.com/Tit1e/kindle2Flomo/releases",target:"_blank"}," 从 Apple Books / 微信读书 导入 ",-1)})),ue=X((function(){return Object(o["createElementVNode"])("a",{class:"how",href:"https://evolly.one/2021/05/30/158-mac-handle-bad-app/",target:"_blank"}," Send2Flomo.app 打不开？ ",-1)})),se={class:"left-bar-form-content-body"},de=X((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-set-up mr-4"},null,-1)})),be={class:"flex"},fe={class:"flex-1"},pe={class:"flex-1 pl-10"},Oe={class:"flex"},je={class:"flex-1 pl-10"},me=Object(o["createTextVNode"])("仅 Tag 前 / 后"),he={class:"flex-1 pl-10"},ve=Object(o["createTextVNode"])("禁用"),ge=Object(o["createTextVNode"])("摘录上方"),xe=Object(o["createTextVNode"])("摘录下方"),Ne=X((function(){return Object(o["createElementVNode"])("span",{class:"fz-12"},[Object(o["createElementVNode"])("b",{class:"highlight"},"仅在有笔记时生效"),Object(o["createTextVNode"])("，且总在笔记与摘录之间")],-1)})),ke=X((function(){return Object(o["createElementVNode"])("i",{class:"el-icon-notebook-2 mr-4"},null,-1)})),Ee={class:"list-wrap"},Ve={class:"left-bar-bottom"},we={style:{"margin-left":"10px"}},Te={class:"iframe-box"},ye={key:0,src:"https://weread.qq.com/#login",frameborder:"0"},Ce={class:"text-center"},_e=Object(o["createTextVNode"])("取消"),Se=Object(o["createTextVNode"])("我已登录"),De=Object(o["defineComponent"])({emits:["update-tag","parse","submit","reset","list-update"],setup:function(e,t){var n=t.emit,r=Object(c["b"])(),a=r.t,i=Object(J["b"])(),l=Object(o["computed"])((function(){return i.getters.selectedList})),u=Object(o["computed"])((function(){return i.getters.importCount>=100})),s=i.getters.isElectron,p=Object(o["ref"])([]),O=Object(o["reactive"])({book:"",title:"",split:"",tag:"kindle",api:"",noTag:!1,tagPosition:!1,notePosition:!1,noEmptyLine:!0,onlyTag:!1}),j=Object(o["ref"])("1");Object(o["watch"])((function(){return j.value}),(function(e){window.localStorage.setItem("activeName",e)}));var m=Object(o["computed"])((function(){return!l.value.length||!O.api||u.value}));function h(){var e=JSON.parse(localStorage.getItem("options")||"{}");O=Object(o["reactive"])(Object(f["a"])(Object(f["a"])({},O),e)),j.value=window.localStorage.getItem("activeName")||"1"}function v(e){var t=p.value.find((function(t){return t.title===e}));if(!t)return!1;if(t.bookId&&!t.loaded){var n=Z({bookId:t.bookId,listType:11,maxIdx:0,count:0,listMode:2,synckey:0,mine:1}),o=H(t.bookId);Promise.all([n,o]).then((function(e){var n=Object(b["a"])(e,2),o=n[0],c=n[1];t.texts=[].concat(Object(d["a"])(o),Object(d["a"])(c)),t.loaded=!0,x(t)})).catch((function(e){console.log(e)}))}else x(t)}function g(e){p.value=e.reverse();var t=e[0];t.bookId&&v(t.title),O.book=t.title,x(t)}function x(e){var t=e.title,o=e.texts,c=e.bookId;O.title=t,U(),o.length||c?(n("list-update",{list:o,options:O}),C(!0)):L["a"].warning("未发现有效内容")}h(),Object(o["watch"])((function(){return O}),(function(){U(),C()}),{deep:!0});var k=Object(o["ref"])(!1),E=Object(o["ref"])(!1);function w(){z().then((function(e){k.value=!1,E.value=!1,g(e)})).catch((function(e){console.log(e),E.value=!1}))}function T(){k.value=!0,E.value=!0,setTimeout(w,300)}function y(){var e=B["a"].service({body:!0,lock:!0,text:a("reading-notes")});D().then((function(t){try{setTimeout((function(){g(t),e.close()}),500)}catch(n){e.close()}})).catch((function(t){L["a"].error(t),e.close()}))}function C(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(j.value="2"),I(),n("parse",O)}function _(){n("submit",O.api)}function S(e){e&&(O.noEmptyLine=!0)}function I(){var e=O,t=e.noTag,n=e.api,o=e.tag,c=e.split,r=e.tagPosition,a=e.noEmptyLine,i=e.onlyTag,l={noTag:t,api:n,tag:o,split:c,tagPosition:r,noEmptyLine:a,onlyTag:i};localStorage.setItem("options",JSON.stringify(l))}var A=Object(o["ref"])("");function U(){var e="",t=O,o=t.tag,c=t.title,r=t.noTag;if(r)return n("update-tag",e),A.value=e,!1;e=o?"#".concat(o,"/").concat(c):"#".concat(c),n("update-tag",e),A.value=e}function M(){p.value=[],n("reset")}function P(){document.querySelector("#fileSelect input").addEventListener("change",(function(e){M();var t=e.target.files[0],n=t.name.split(".").pop().toLowerCase(),o=new FileReader;o.onload=function(){if("txt"===n){p.value=N(o.result);try{var e=p.value[0];O.book=e.title,x(e)}catch(c){}}if("html"===n){var t=V(o.result);x(t)}},o.readAsText(t)}))}return Object(o["onMounted"])((function(){P()})),function(e,t){var n=Object(o["resolveComponent"])("el-upload"),c=Object(o["resolveComponent"])("el-tooltip"),r=Object(o["resolveComponent"])("el-form-item"),i=Object(o["resolveComponent"])("el-divider"),l=Object(o["resolveComponent"])("el-input"),d=Object(o["resolveComponent"])("el-checkbox"),b=Object(o["resolveComponent"])("el-radio-button"),f=Object(o["resolveComponent"])("el-radio-group"),h=Object(o["resolveComponent"])("el-collapse-item"),g=Object(o["resolveComponent"])("el-radio"),x=Object(o["resolveComponent"])("el-collapse"),N=Object(o["resolveComponent"])("el-form"),V=Object(o["resolveComponent"])("el-button"),C=Object(o["resolveComponent"])("el-dialog"),D=Object(o["resolveDirective"])("loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["left-bar",{"pt-10":!Object(o["unref"])(s),electron:Object(o["unref"])(s)}])},[Object(o["createElementVNode"])("div",W,[Object(o["createVNode"])(N,{model:Object(o["unref"])(O),ref:function(e,t){t["form"]=e},size:"mini","label-suffix":"：","label-position":"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",K,[Object(o["createElementVNode"])("div",G,[Object(o["createVNode"])(r,{"label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(n,{id:"fileSelect",style:{width:"100%"},"show-file-list":!1,multiple:!1,action:"","auto-upload":!1,accept:".html,.txt"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Y,[$,Object(o["createElementVNode"])("div",Q,Object(o["toDisplayString"])(Object(o["unref"])(a)("upload-file")),1)])]})),_:1}),Object(o["createElementVNode"])("div",ee,[te,Object(o["createElementVNode"])("a",ne,Object(o["toDisplayString"])(Object(o["unref"])(a)("how-export")),1),Object(o["createVNode"])(c,{effect:"dark",placement:"right"},{content:Object(o["withCtx"])((function(){return[oe]})),default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",ce,Object(o["toDisplayString"])(Object(o["unref"])(a)("where-is--my-clippings")),1)]})),_:1})])]})),_:1}),Object(o["unref"])(s)?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0,"label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",re,[Object(o["createElementVNode"])("div",{class:"pointer text-center border pd-10 radius flex-item",onClick:y}," Apple Books "),Object(o["createElementVNode"])("div",{class:"pointer text-center border pd-10 radius flex-item",onClick:T},Object(o["toDisplayString"])(Object(o["unref"])(a)("weread")),1)])]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:1,"label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ae,[Object(o["createVNode"])(c,{effect:"dark",placement:"right"},{content:Object(o["withCtx"])((function(){return[ie]})),default:Object(o["withCtx"])((function(){return[le]})),_:1})]),ue]})),_:1}))]),Object(o["createElementVNode"])("div",se,[Object(o["createVNode"])(x,{modelValue:Object(o["unref"])(j),"onUpdate:modelValue":t[10]||(t[10]=function(e){return Object(o["isRef"])(j)?j.value=e:j=e}),accordion:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{name:"1"},{title:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[de,Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("parse-options")),1)])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("api-options")),1)]})),_:1}),Object(o["createVNode"])(r,{label:"","label-width":"0px"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{modelValue:Object(o["unref"])(O).api,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Object(o["unref"])(O).api=e}),type:"password","show-password":"",placeholder:"API 采用本地存储"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("tag-options")),1)]})),_:1}),Object(o["createVNode"])(r,{label:"Tag"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",be,[Object(o["createElementVNode"])("div",fe,[Object(o["createVNode"])(l,{modelValue:Object(o["unref"])(O).tag,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Object(o["unref"])(O).tag=e}),disabled:Object(o["unref"])(O).noTag,placeholder:"Tag 名称",clearable:""},null,8,["modelValue","disabled"])]),Object(o["createElementVNode"])("div",pe,[Object(o["createVNode"])(d,{modelValue:Object(o["unref"])(O).noTag,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Object(o["unref"])(O).noTag=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("hide-tag")),1)]})),_:1},8,["modelValue"])])])]})),_:1}),Object(o["unref"])(O).noTag?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0,label:Object(o["unref"])(a)("position-of-tag")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:Object(o["unref"])(O).tagPosition,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Object(o["unref"])(O).tagPosition=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:!0},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("top")),1)]})),_:1}),Object(o["createVNode"])(b,{label:!1},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("bottom")),1)]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label"])),Object(o["createVNode"])(r,{label:"空行"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Oe,[Object(o["createElementVNode"])("div",je,[Object(o["createVNode"])(d,{modelValue:Object(o["unref"])(O).onlyTag,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Object(o["unref"])(O).onlyTag=e}),onChange:S},{default:Object(o["withCtx"])((function(){return[me]})),_:1},8,["modelValue"])]),Object(o["createElementVNode"])("div",he,[Object(o["createVNode"])(d,{modelValue:Object(o["unref"])(O).noEmptyLine,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Object(o["unref"])(O).noEmptyLine=e}),disabled:Object(o["unref"])(O).onlyTag},{default:Object(o["withCtx"])((function(){return[ve]})),_:1},8,["modelValue","disabled"])])])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("notes-options")),1)]})),_:1}),Object(o["createVNode"])(r,{label:"位置"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:Object(o["unref"])(O).notePosition,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Object(o["unref"])(O).notePosition=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:!0},{default:Object(o["withCtx"])((function(){return[ge]})),_:1}),Object(o["createVNode"])(b,{label:!1},{default:Object(o["withCtx"])((function(){return[xe]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(o["createVNode"])(r,{label:"分隔符"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{modelValue:Object(o["unref"])(O).split,"onUpdate:modelValue":t[7]||(t[7]=function(e){return Object(o["unref"])(O).split=e}),placeholder:"为空以空行填充，此空行无法禁用",clearable:""},null,8,["modelValue"]),Ne]})),_:1})]})),_:1}),Object(o["createVNode"])(h,{name:"2"},{title:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[ke,Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("book-list")),1)])]})),default:Object(o["withCtx"])((function(){return[p.value.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(r,{label:Object(o["unref"])(a)("book-name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{modelValue:Object(o["unref"])(O).title,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Object(o["unref"])(O).title=e})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(o["createVNode"])(r,{label:Object(o["unref"])(a)("book-list"),"label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ee,[Object(o["createVNode"])(f,{class:"book-list",modelValue:Object(o["unref"])(O).book,"onUpdate:modelValue":t[9]||(t[9]=function(e){return Object(o["unref"])(O).book=e}),size:"small",onChange:v},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(p.value,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(g,{label:e.title,border:""},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title),1)]})),_:2},1032,["label"])})),256))]})),_:1},8,["modelValue"])])]})),_:1},8,["label"])],64)):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["modelValue"])])])]})),_:1},8,["model"])]),Object(o["createElementVNode"])("div",Ve,[Object(o["unref"])(m)?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,effect:"dark",disabled:!1,content:Object(o["unref"])(u)?"导入数量已达 100 条限额":"请确保 API 已填写，需要导入的 MEMO 已勾选",placement:"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",we,[Object(o["createVNode"])(V,{type:"primary",disabled:Object(o["unref"])(m),size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("import")),1)]})),_:1},8,["disabled"])])]})),_:1},8,["content"])):(Object(o["openBlock"])(),Object(o["createBlock"])(V,{key:1,type:"primary",size:"mini",onClick:_},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(a)("import")),1)]})),_:1}))]),Object(o["createVNode"])(C,{"custom-class":"login-dialog",modelValue:k.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return k.value=e}),"close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",width:"270px"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",Te,[k.value?(Object(o["openBlock"])(),Object(o["createElementBlock"])("iframe",ye)):Object(o["createCommentVNode"])("",!0)],512),[[D,E.value]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",Ce,[Object(o["createVNode"])(V,{type:"text",style:{color:"#999999"},onClick:t[11]||(t[11]=function(e){return k.value=!1})},{default:Object(o["withCtx"])((function(){return[_e]})),_:1}),Object(o["createVNode"])(V,{type:"text",onClick:w},{default:Object(o["withCtx"])((function(){return[Se]})),_:1})],512),[[o["vShow"],!E.value]])]})),_:1},8,["modelValue"])],2)}}});n("2b42");const Le=l()(De,[["__scopeId","data-v-fe93a012"]]);var Be=Le,Ie=(n("b680"),function(e){return Object(o["pushScopeId"])("data-v-8f36610c"),e=e(),Object(o["popScopeId"])(),e}),Ae={class:"right-content-bar"},Ue={class:"flex-1 flex"},Me=Ie((function(){return Object(o["createElementVNode"])("div",{style:{width:"200px","line-height":"1.5em"}}," 未经审视的生活不值得过，未经审视的思想也不应该汇入你的大脑。建议在导入前审视一遍内容。 ",-1)})),Pe=Object(o["createTextVNode"])(" 已选择 "),Re={class:"highlight"},Fe=Object(o["createTextVNode"])(" 条 MEMO，共 "),qe={class:"highlight"},ze=Object(o["createTextVNode"])(" 条。今日已导入 "),He={class:"highlight"},Ze=Object(o["createTextVNode"])(" 条 MEMO "),Je={class:"bar-right"},Xe={key:1,class:"thanks",href:"https://mp.weixin.qq.com/s/o793lUsBaWc61fLZzFDlxg",target:"_blank"},We={class:"help-box"},Ke=Ie((function(){return Object(o["createElementVNode"])("div",{class:"mb-10"},"注意事项：",-1)})),Ge=Ie((function(){return Object(o["createElementVNode"])("div",{class:"mb-6"},"1. 导入前必须填写 Api 与选择要导入的 MEMO",-1)})),Ye=Ie((function(){return Object(o["createElementVNode"])("div",{class:"mb-6"},"2. 双击 MEMO 可进入编辑状态",-1)})),$e=Ie((function(){return Object(o["createElementVNode"])("div",{class:"mb-6"},"3. 修改配置项会触发解析",-1)})),Qe=Ie((function(){return Object(o["createElementVNode"])("div",{class:"mb-6"},"4. 每次解析重置 MEMO 的内容，因此先设置好配置项再进行编辑",-1)})),et={key:0,class:"mb-6"},tt=Ie((function(){return Object(o["createElementVNode"])("div",{class:"mb-10"},"还有其他问题？扫码进群反馈",-1)})),nt=Ie((function(){return Object(o["createElementVNode"])("img",{class:"block block-center",width:"200",height:"200",src:"https://gblobscdn.gitbook.com/assets%2F-MVEe4qiW5TBO3wosktr%2F-McqOyO9scmhvjxOKjqy%2F-McqT6ENIJnzZEGJhoeX%2F%E5%9B%BE%E7%89%87.png?alt=media&token=a1a523d4-f926-4615-b1de-b6fced4c46ab"},null,-1)})),ot=["title"],ct=Ie((function(){return Object(o["createElementVNode"])("div",{class:"setting k-icon"},null,-1)})),rt=Object(o["createTextVNode"])(" Tit1e's Photo Studio "),at={href:"https://evolly.one",target:"_blank"},it=Ie((function(){return Object(o["createElementVNode"])("a",{href:"https://album.animalcrossing.life",target:"_blank"},"Tit1e's Photo Studio",-1)})),lt={href:"https://web.okjike.com/u/FFDB1E46-63DC-43BE-AA1A-36F3D9CD0017",target:"_blank"},ut=Object(o["defineComponent"])({setup:function(e){var t=Object(J["b"])(),r=t.getters.isElectron,a={},i={};function l(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.commit("SELECT_ALL",e)}r&&(i=n("daba").shell,a=n("bdb9").ipcRenderer);var u=Object(c["b"])(),s=u.t,d=u.locale;function b(){d.value="zh-CN"===d.value?"en-US":"zh-CN",window.localStorage.setItem("locale",d.value)}t.commit("GET_IMPORT_COUNT");var f=Object(o["computed"])((function(){return t.getters.selectedList.length})),p=Object(o["computed"])((function(){return t.getters.textList.length})),O=Object(o["computed"])((function(){return t.getters.importCount}));function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return!1;r&&i.openExternal(e)}var m={blog:"https://evolly.one/",photo:"https://album.animalcrossing.life/",jike:"https://web.okjike.com/u/FFDB1E46-63DC-43BE-AA1A-36F3D9CD0017"};function h(e){r&&("update"===e?(a.on("asynchronous-reply",(function(e,t){console.log(t)})),a.send("update")):j(m[e]))}var v=null;return r&&(a.on("updateDownloading",function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,n){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("updateDownloaded"!==n){e.next=7;break}return v.close(),e.next=4,Object(o["nextTick"])();case 4:v=null,e.next=10;break;case 7:v||(v=B["a"].service({text:"正在下载... 0%",lock:!0,spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)"})),c=n.percent.toFixed(2),v.setText("正在下载... ".concat(c,"%"));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.on("updateDownloaded",(function(){})),a.on("updateNotAvailable",(function(e,t){console.log("updateNotAvailable",t)}))),function(e,t){var n=Object(o["resolveComponent"])("el-button"),c=Object(o["resolveComponent"])("el-tooltip"),a=Object(o["resolveComponent"])("el-dropdown-item"),i=Object(o["resolveComponent"])("el-dropdown-menu"),u=Object(o["resolveComponent"])("el-dropdown");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ae,[Object(o["createElementVNode"])("div",Ue,[Object(o["createVNode"])(c,{effect:"dark",placement:"left"},{content:Object(o["withCtx"])((function(){return[Me]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(n,{type:"text",class:"mr-10",onClick:t[0]||(t[0]=function(e){return l(!0)})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(s)("all")),1)]})),_:1})]})),_:1}),Pe,Object(o["createElementVNode"])("span",Re,Object(o["toDisplayString"])(Object(o["unref"])(f)),1),Fe,Object(o["createElementVNode"])("span",qe,Object(o["toDisplayString"])(Object(o["unref"])(p)),1),ze,Object(o["createElementVNode"])("span",He,Object(o["toDisplayString"])(Object(o["unref"])(O))+" / 100",1),Ze]),Object(o["createElementVNode"])("div",Je,[Object(o["unref"])(r)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"thanks",onClick:t[1]||(t[1]=function(e){return j("https://mp.weixin.qq.com/s/o793lUsBaWc61fLZzFDlxg")})},Object(o["toDisplayString"])(Object(o["unref"])(s)("thanks")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",Xe,Object(o["toDisplayString"])(Object(o["unref"])(s)("thanks")),1)),Object(o["createVNode"])(c,{effect:"dark",placement:"bottom"},{content:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",We,[Ke,Ge,Ye,$e,Qe,Object(o["unref"])(r)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",et,"5. 在使用微信读书导入过程中请勿手动刷新页面，会导致获取不到笔记，如果刷新了，请退出应用后重新打开。")):Object(o["createCommentVNode"])("",!0),tt,nt])]})),default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",{class:"help k-icon",title:Object(o["unref"])(s)("help"),onClick:t[2]||(t[2]=function(){})},null,8,ot)]})),_:1}),Object(o["createElementVNode"])("div",{class:"translate k-icon",title:"中/英文切换",onClick:b}),Object(o["createVNode"])(u,{onCommand:h},{dropdown:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["unref"])(r)?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(a,{command:"update"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(s)("check-update")),1)]})),_:1}),Object(o["createVNode"])(a,{command:"blog"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(s)("blog")),1)]})),_:1}),Object(o["createVNode"])(a,{command:"photo"},{default:Object(o["withCtx"])((function(){return[rt]})),_:1}),Object(o["createVNode"])(a,{command:"jike"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Object(o["unref"])(s)("jike")),1)]})),_:1})],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(a,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("a",at,Object(o["toDisplayString"])(Object(o["unref"])(s)("blog")),1)]})),_:1}),Object(o["createVNode"])(a,null,{default:Object(o["withCtx"])((function(){return[it]})),_:1}),Object(o["createVNode"])(a,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("a",lt,Object(o["toDisplayString"])(Object(o["unref"])(s)("jike")),1)]})),_:1})],64))]})),_:1})]})),default:Object(o["withCtx"])((function(){return[ct]})),_:1})])])}}});n("5961");const st=l()(ut,[["__scopeId","data-v-8f36610c"]]);var dt=st,bt=(n("a9e3"),{class:"priview"}),ft=["innerHTML"],pt=Object(o["defineComponent"])({props:{info:{type:Object,default:function(){return{}}},index:{type:Number,default:0}},emits:["update:edit","update:check","update:input","open"],setup:function(e,t){var n=t.emit,c=e,r=(c.info,Object(o["toRef"])(c.info,"text"),Object(o["toRef"])(c.info,"checked")),a=Object(o["toRef"])(c.info,"isEdit");Object(o["toRef"])(c.info,"send"),Object(o["toRef"])(c.info,"isEmpty");Object(o["watch"])((function(){return c.info}),(function(e){var t=e.checked,n=e.text,o=e.isEdit;n,t=t,o=o})),Object(o["watch"])((function(){return a}),(function(e){n("update:edit",e)})),Object(o["watch"])((function(){return r}),(function(e){n("update:check",e.value)}),{deep:!0});var i=null,l=!1;function u(){i&&(l=!0,clearTimeout(i)),i=setTimeout((function(){l||(r.value=!r.value),clearTimeout(i),l=!1,i=null}),200)}return function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["memo-card radius",{active:c.info.checked,empty:c.info.isEmpty,"text-highlight":c.info.send}]),onClick:u},[Object(o["createElementVNode"])("div",bt,[Object(o["createElementVNode"])("pre",{innerHTML:c.info.text},null,8,ft)])],2)}}});n("b66d");const Ot=l()(pt,[["__scopeId","data-v-4af7098c"]]);var jt=Ot,mt={class:"content-box"},ht=Object(o["createTextVNode"])("完成"),vt=Object(o["defineComponent"])({setup:function(e){var t=Object(J["b"])(),n=t.getters.isElectron,c=Object(o["ref"])("1000000px");function r(){return a.apply(this,arguments)}function a(){return a=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,l,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.value="1000000px",e.next=3,Object(o["nextTick"])();case 3:for(t=document.querySelectorAll(".memo-item"),n=0,r=t.length-1,a=r;a>0;a--)i=t[a],l=i.offsetTop,u=i.clientHeight,s=l+u,s>n&&(n=s);c.value="".concat(n,"px");case 8:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}function i(){var e=null;window.addEventListener("resize",(function(t){e&&clearTimeout(e),e=setTimeout((function(){r(),clearTimeout(e),e=null}),500)}))}Object(o["onMounted"])((function(){i()}));var l=Object(o["computed"])((function(){var e=t.getters.textList;if(2===e.length){var n={text:"",note:"",isEdit:!1,checked:!1,isEmpty:!0};return[].concat(Object(d["a"])(e),[n])}return e}));Object(o["watch"])((function(){return l}),(function(e){r()}),{deep:!0});var u=Object(o["ref"])(!1),s=Object(o["ref"])({});function b(e){s.value=e,u.value=!0}function f(){s.value={},u.value=!1}return function(e,t){var r=Object(o["resolveComponent"])("el-input"),a=Object(o["resolveComponent"])("el-button"),i=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["right-content",{electron:Object(o["unref"])(n)}])},[Object(o["createVNode"])(Object(o["unref"])(dt),{class:Object(o["normalizeClass"])({"right-content-position":Object(o["unref"])(n)})},null,8,["class"]),Object(o["createElementVNode"])("div",mt,[Object(o["createElementVNode"])("div",{class:"memo-box",style:Object(o["normalizeStyle"])({height:c.value})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object(o["unref"])(l),(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["unref"])(jt),{onDblclick:Object(o["withModifiers"])((function(t){return b(e)}),["stop"]),key:e.text,class:"memo-item",input:e.text,"onUpdate:input":function(t){return e.text=t},check:e.checked,"onUpdate:check":function(t){return e.checked=t},edit:e.isEdit,"onUpdate:edit":function(t){return e.isEdit=t},info:e,index:t},null,8,["onDblclick","input","onUpdate:input","check","onUpdate:check","edit","onUpdate:edit","info","index"])})),128))],4)]),Object(o["createVNode"])(i,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.value=e}),center:"",title:"编辑 MEMO",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{onClick:f,size:"mini",type:"primary"},{default:Object(o["withCtx"])((function(){return[ht]})),_:1})]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(r,{modelValue:s.value.text,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.value.text=e}),type:"textarea",autosize:{minRows:6},placeholder:"",clearable:""},null,8,["modelValue"])]})),_:1},8,["modelValue"])],2)}}});n("1c5d");const gt=l()(vt,[["__scopeId","data-v-bc1b7ce2"]]);var xt=gt;n("215e");function Nt(e,t){var n={content:t};return A.a.post(e,n)}var kt=["element-loading-text"],Et=Object(o["defineComponent"])({setup:function(e){var t=Object(J["b"])(),n=t.getters.isElectron,c=Object(o["computed"])((function(){return t.getters.importCount})),r=Object(o["ref"])([]),a=Object(o["computed"])((function(){return t.getters.selectedList})),i=Object(o["ref"])(""),l=Object(o["ref"])(!1),u=Object(o["ref"])(0),d=Object(o["computed"])((function(){return"为减轻服务器压力，导入间隔为 1s。导入进度： ".concat(u.value+1,"/").concat(a.value.length)}));function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";l.value=!0,u.value=0,f(e,a.value,u.value)}function f(e,n,o){var r=n[o];Nt(e,r.text).then((function(a){t.commit("SET_IMPORT_COUNT",c.value+1),t.commit("SET_SUCCESS",r),o<n.length-1?setTimeout((function(){u.value+=1,f(e,n,u.value)}),1e3):(L["a"].success("导入完毕"),l.value=!1)})).catch((function(e){console.error(e),l.value=!1,L["a"].error("导入失败")}))}function p(e){t.commit("SET_TEXT_LIST",{options:e,tag:i.value})}function O(e){var n=e.list,o=e.options;t.commit("SET_TEMP_LIST",n),t.commit("SET_TEXT_LIST",{options:o,tag:i.value})}function j(e){i.value=e}function m(){r.value=[]}return function(e,t){var c=Object(o["resolveDirective"])("loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["unref"])(n)?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["unref"])(s),{key:0,class:"the-head"})):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"content-wrap","element-loading-text":Object(o["unref"])(d)},[Object(o["createVNode"])(Object(o["unref"])(Be),{class:"left-bar",list:r.value,onSubmit:b,onParse:p,onListUpdate:O,onUpdateTag:j,onReset:m},null,8,["list"]),Object(o["createVNode"])(Object(o["unref"])(xt),{class:"right-content"})],8,kt),[[c,Object(o["unref"])(l)]])],64)}}});n("2d87");const Vt=Et;var wt=Vt,Tt=n("1250"),yt=(n("f930"),n("5893")),Ct={};function _t(){var e={};return St(Ct,e),e}function St(e,t){for(var n in e)if(e[n].default){var o=n.substr(n.lastIndexOf("/")+1,5);t[o]?t[o]=Object(f["a"])(Object(f["a"])({},e[o]),e[n].default):t[o]=e[n].default}}yt.keys().forEach((function(e){Ct[e]=yt(e)}));var Dt=window.localStorage.getItem("locale")||"zh-CN",Lt=Object(c["a"])({legacy:!1,locale:Dt,messages:_t()}),Bt=Lt,It=n("ade3");function At(e,t,n){var o=e.noTag,c=e.tagPosition,r=e.noEmptyLine,a=e.onlyTag,i=n;return o||(c?i="".concat(t,a?"\r\n\r\n":r?"\r\n":"\r\n\r\n")+i:i+=a?"\r\n".concat(t):r?t:"\r\n".concat(t)),i}function Ut(e,t,n){var o=e.split,c=(e.tagPosition,e.notePosition),r=e.noEmptyLine,a=(e.onlyTag,e.noTag,JSON.parse(JSON.stringify(t)).map((function(t){var a="".concat(t.text,"\r\n"),i=t.note?"".concat(o).concat(o||r?"\r\n":""):"",l=t.note?[a,i,"".concat(t.note,"\r\n")]:[a,i];c&&l.reverse();var u=l.filter((function(e){return e})).join(r?"":"\r\n");return t.text=At(e,n,u),t.send=!1,t})));return a}function Mt(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();return"".concat(t).concat(n).concat(o)}var Pt=Mt(),Rt=Object(J["a"])({state:function(){return{activeBook:{},textList:[],tempList:[],importCount:0}},mutations:{SET_TEXT_LIST:function(e,t){var n=t.options,o=t.tag;e.textList=Ut(n,e.tempList,o)},SET_TEMP_LIST:function(e,t){e.tempList=t},GET_IMPORT_COUNT:function(e){var t=JSON.parse(localStorage.getItem("importCount")||"{}");e.importCount=+t[Pt]||0},SET_IMPORT_COUNT:function(e,t){e.importCount=t,localStorage.setItem("importCount",JSON.stringify(Object(It["a"])({},Pt,t)))},SET_SUCCESS:function(e,t){var n=e.textList.find((function(e){return e.text===t.text}));n.checked=!1,n.send=!0},SELECT_ALL:function(e,t){e.textList=e.textList.map((function(e){return e.checked=t,e}))}},getters:{textList:function(e){return e.textList},selectedList:function(e){return e.textList.filter((function(e){return e.checked}))},importDisabled:function(e,t){return t.selectedList.length>=100},importCount:function(e){return e.importCount},isElectron:function(){return!!Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:""}).IS_ELECTRON}}}),Ft=Rt,qt=(n("9536"),Object(o["createApp"])(wt));qt.use(Tt["a"]),qt.use(Bt),qt.use(Ft),qt.mount("#app");t["default"]=qt},f197:function(e,t,n){"use strict";n.r(t),t["default"]={parse:"Parse","how-export":"How to export HTML?","where-is--my-clippings":"Where is My Clippings.txt?",weread:"WeRead","parse-options":"Parse Options","hide-tag":"Hide Tag","position-of-tag":"Position Of Tag",top:"Top",bottom:"Bottom","book-name":"Book Name","book-list":"Book List",import:"Import","api-options":"Api Options","tag-options":"Tag Options","notes-options":"Notes Options","reading-notes":"reading","upload-file":"Upload HTML/TXT",thanks:"Thanks for lupeng",all:"All","check-update":"Check Update",blog:"Blog",jike:"JIKE",help:"Help"}},f930:function(e,t,n){},ff2a:function(e,t,n){}});